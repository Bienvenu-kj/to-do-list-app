<main
  class="lesDisparus conteneur relative flex gap-y-6 flex-col"
  [class.startReaserching]="onVeutOuONVeutPlusRechercher"
>
  <section
    id="header"
    class="bordure-t-l-r bg px-4 radius-t-l sticky top-8 pt-6 pb-2 flex flex-col gap-y-8"
  >
    <div class="flex flex-col gap-y-1 self-end">
      <span class="size-1 bg-gray-900 rounded-50"></span>
      <span class="size-1 bg-gray-900 rounded-50"></span>
      <span class="size-1 bg-gray-900 rounded-50"></span>
    </div>
    <div [class.startReaserching]="onVeutOuONVeutPlusRechercher">
      <h1 class="lesDisparus text-2xl font-semibold">Tâches</h1>
    </div>
    <div class="relative flex items-center">
      <div class="absolute left-3">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="rgba(190, 213, 219,1)"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-search"
        >
          <circle cx="11" cy="11" r="8" />
          <path d="m21 21-4.3-4.3" />
        </svg>
      </div>
      <input
        (click)="onVeutOuOnVeutPlusRechercher()"
        routerLink="/researchtasks"
        class="speeking border p-2 rounded-2xl bg-gray-100 w-full px-10"
        type="text"
        placeholder="Rechercher des taches"
      />
    </div>
  </section>
  @if(tachesBrutes.length || tacheTerminees.length){
  <section
    [class.startReaserching]="onVeutOuONVeutPlusRechercher"
    class="lesDisparus mt-6 flex flex-col gap-y-8"
  >
    <div class="flex flex-col gap-y-5">
      <app-liste-taches
        (onSupprime)="onSupprime($event)"
        (OnVeutModifier)="onVeutModifier($event)"
        (voirLeFormulaire)="recevoirlouverture($event)"
        (elementAmodifier)="getEditedElement($event)"
        [listeTaches]="tachesBrutes"
        [motif]="motifP"
        [anime]="anime"
      />
    </div>
  </section>
  } @else{
  <section
    [class.startReaserching]="onVeutOuONVeutPlusRechercher"
    class="lesDisparus mt-6 w-full top-72 h-full flex-col flex justify-center items-center gap-y-4"
  >
    <h4 class="recherche text-center">Pas de tâches.</h4>
    <p class="recherche text-center">Commencer par en ajouter une !</p>
  </section>
  }
  <section
    (click)="ajouterTache()"
    [class.startReaserchingB]="OnVeutOuONVeutPlusRechercher2"
    class="lesDisparus self-center btnShadow bg-blue-600 fixed p-4 bottom-6 rounded-50"
  >
    <svg
      class="size-6"
      id="Layer_1"
      style="enable-background: new 0 0 512 512"
      version="1.1"
      viewBox="0 0 512 512"
      xml:space="preserve"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <style type="text/css">
        .st0 {
          fill: #fff;
        }
      </style>
      <path
        class="st0"
        d="M381,236H276V131c0-11-9-20-20-20s-20,9-20,20v105H131c-11,0-20,9-20,20s9,20,20,20h105v105c0,11,9,20,20,20  s20-9,20-20V276h105c11,0,20-9,20-20S392,236,381,236z"
      />
    </svg>
  </section>

  <section id="formTaskContainer" *ngIf="cache" class="lesDisparus">
    <div id="formTask" class="conteneur">
      <app-task-form
        [onTenteDeModier]="OnTenteDeModifier"
        [elementAmodifier]="TaskToModifier"
        (onSoumet)="recevoirLaSoumission($event)"
        (onAjouteTache)="onAjouteUntache($event)"
        (recevoirLafermeture)="recevoirlafermeture($event)"
      />
    </div>
  </section>
</main>
