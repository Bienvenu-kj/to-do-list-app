import{a as B,c as D}from"./chunk-DOIK37RL.js";import{D as v,F as k,H as E,I as P,J as T,K as F,L as y,M as S,N as s,O as c,P as _,Q as w,R as x,S as o,T as C,U as V,W as L,ea as $,ja as I,l as R,n as h,o as m,p as f,q as g,s as b,v as l,z as O}from"./chunk-P5HLS2QV.js";function H(i,t){if(i&1&&(s(0,"div",13)(1,"div",16),C(2),c()()),i&2){let e=o();l(2),L(" ",e.TacheTrouvee," ",e.TacheTrouvee&&e.TacheTrouvee===1?"r\xE9sultat":"r\xE9sultats"," ")}}function N(i,t){if(i&1){let e=w();s(0,"div",20),x("touchstart",function(r){h(e);let a=o(),d=a.$implicit,u=a.$index,p=o(2);return m(p.OnTouchStart(r,u,d.id))})("touchend",function(){h(e);let r=o(3);return m(r.OnTouchEnd())})("contextmenu",function(r){h(e);let a=o(),d=a.$implicit,u=a.$index,p=o(2);return m(p.onRightClick(r,u,d.id))}),s(1,"div",21),f(),s(2,"svg",22),_(3,"circle",23)(4,"path",24),c()(),g(),s(5,"p",25),C(6),c()()}if(i&2){let e=o().$implicit;l(6),V(e.taskName)}}function A(i,t){if(i&1){let e=w();s(0,"div",20),x("touchstart",function(r){h(e);let a=o(),d=a.$implicit,u=a.$index,p=o(2);return m(p.OnTouchStart(r,u,d.id))})("touchend",function(){h(e);let r=o(3);return m(r.OnTouchEnd())})("contextmenu",function(r){h(e);let a=o(),d=a.$implicit,u=a.$index,p=o(2);return m(p.onRightClick(r,u,d.id))}),_(1,"div",26),s(2,"p",27),C(3),c()()}if(i&2){let e=o().$implicit;l(3),V(e.taskName)}}function j(i,t){if(i&1&&v(0,N,7,1,"div",19)(1,A,4,1,"div",19),i&2){let e=t.$implicit;T(e.etat==="termin\xE9e"?0:1)}}function G(i,t){if(i&1){let e=w();s(0,"div",28)(1,"div",29)(2,"div",30),x("click",function(){h(e);let r=o(2);return m(r.modifier())}),f(),s(3,"svg",31),_(4,"path",32)(5,"path",33),c(),C(6," Modifier la t\xE2che "),c(),g(),s(7,"div",30),x("click",function(){h(e);let r=o(2);return m(r.supprimerTache())}),f(),s(8,"svg",34),_(9,"path",35)(10,"path",36)(11,"path",37)(12,"line",38)(13,"line",39),c(),C(14," Suprrimer la t\xE2che "),c()()()}if(i&2){let e=o(2);l(),E(e.elementPosition),P(e.classD)}}function X(i,t){if(i&1&&(s(0,"main",14)(1,"div",17),y(2,j,2,1,null,null,F),c(),v(4,G,15,4,"div",18),c()),i&2){let e=o();l(2),S(e.tachesFiltres),l(2),k("ngIf",e.motif)}}function Y(i,t){if(i&1){let e=w();s(0,"section",15)(1,"div",40)(2,"app-task-form",41),x("recevoirLafermeture",function(r){h(e);let a=o();return m(a.recevoirlafermeture(r))}),c()()()}if(i&2){let e=o();l(2),k("onTenteDeModier",e.OnVeutModifier)("elementAmodifier",e.elementAmodifier)}}var M=class i{onVeutOuVeutPlusRechercher=new b;taskManager=R(B);onVeutRecherhcher=!1;TacheTrouvee;tacheTerminee=this.taskManager.tachesTerminees;tachesBrutes=this.taskManager.taches;tache=[];tachesFiltres=[...this.tachesBrutes,...this.tacheTerminee];champsRecherche;OnVeutModifier;voirLeFormulaire;elementAmodifier;champValeur;OnVeutRechercher(){}OnVeutPlusRechercher(){this.onVeutRecherhcher=!1,this.onVeutOuVeutPlusRechercher.emit(!1)}RecherTaches(t){this.champsRecherche=t.target;let n=t.target.value;this.champValeur=n,this.tachesFiltres=[...this.tachesBrutes,...this.tacheTerminee],this.tachesFiltres=this.tachesFiltres.filter(r=>r.taskName.toLocaleLowerCase().includes(n.toLocaleLowerCase())),n.length?(this.onVeutRecherhcher=!0,this.TacheTrouvee=this.tachesFiltres.length):this.onVeutRecherhcher=!1}motif=!1;classD="hidden";index;id;posiX;posiY;element;elementPosition={top:"",left:"",position:"absolute"};supprimerTache(){this.taskManager.supprimerUnTache(this.id),this.motif=!this.motif,this.tachesFiltres=[...this.tachesBrutes,...this.tacheTerminee],this.tachesFiltres=this.tachesFiltres.filter(t=>t.taskName.includes(this.champValeur)),this.TacheTrouvee=this.tachesFiltres.length}modifier(){let e=this.tachesFiltres.filter(n=>n.id===this.id)[0];this.taskManager.ElementAmodifier(this.id),this.voirLeFormulaire=!0,this.elementAmodifier=e,this.OnVeutModifier=!0,this.tachesFiltres=this.tachesFiltres}onlongpressed;OnTouchStart(t,e,n){this.onlongpressed=setTimeout(()=>{t.preventDefault(),this.motif=!0,this.elementPosition.top=`${t.touches[0].clientX/1.6}px`,this.elementPosition.left=` ${t.touches[0].clientY/2.5}px`,this.element=t.target,this.classD="view",this.index=e,this.id=n,console.log(this.elementPosition.top,this.elementPosition.left)},600)}OnTouchEnd(){clearTimeout(this.onlongpressed)}onRightClick(t,e,n){t.preventDefault(),this.motif=!0,this.elementPosition.top=`${t.clientY/1.6}px`,this.elementPosition.left=` ${t.clientX/2.5}px`,this.element=t.target,this.classD="view",this.index=e,this.id=n,console.log(this.elementPosition.top,this.elementPosition.left)}recevoirlafermeture(t){this.voirLeFormulaire=t,this.tachesFiltres=[...this.tachesBrutes,...this.tacheTerminee],this.tachesFiltres=this.tachesFiltres.filter(e=>e.taskName.includes(this.champValeur)),this.TacheTrouvee=this.tachesFiltres.length}recevoirlouverture(t){this.voirLeFormulaire=t}ngOnInit(){document.getElementById("researchInput")?.focus(),document.addEventListener("click",t=>{t.target.closest("#contextMenu")||(this.motif=!1)})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-research"]],outputs:{onVeutOuVeutPlusRechercher:"onVeutOuVeutPlusRechercher"},decls:16,vars:3,consts:[["id","conteneur",1,"conteneur","startResearch"],[1,"bordure-t-l-r"],[1,"pos-stck"],[1,"barre-recherche"],["role","button","routerLink","/tasks",1,"retourner"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 -960 960 960","width","24px","fill","#5f6368"],["d","m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"],[1,"relative","flex","items-center"],[1,"absolute","left-3"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","rgba(190, 213, 219,1)","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search"],["cx","11","cy","11","r","8"],["d","m21 21-4.3-4.3"],["id","researchInput","type","text","placeholder","Rechercher des taches",1,"speeking","border","p-2","rounded-2xl","bg-gray-100","w-full","px-10",3,"click","input"],[1,"resultRecherche"],[1,"mt-16"],["id","formTaskContainer",1,"lesDisparus"],[1,"text-sm","tache-ttr"],[1,"flex","flex-col","gap-y-3","pb-3"],["class","menuContextContainer",4,"ngIf"],[1,"rounded-xl","bg-gray-100","h-max","p-4","flex","items-center","gap-x-4"],[1,"rounded-xl","bg-gray-100","h-max","p-4","flex","items-center","gap-x-4",3,"touchstart","touchend","contextmenu"],[1,"rounded-50"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","rgb(179, 188, 209)","stroke","rgb(243, 244, 246)","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-circle-check"],["cx","12","cy","12","r","10"],["d","m9 12 2 2 4-4"],[1,"tacheTerminee","font-semibold"],[1,"w-4","h-4","border-2","rounded-50"],[1,"tache","font-semibold"],[1,"menuContextContainer"],["id","contextMenu",1,"menuContextuel"],[1,"hoverItem",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"],["d","m15 5 4 4"],["xmlns","http://www.w3.org/2000/svg","width","20","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],["id","formTask",1,"conteneur"],[3,"recevoirLafermeture","onTenteDeModier","elementAmodifier"]],template:function(e,n){e&1&&(s(0,"main",0)(1,"div",1)(2,"header",2)(3,"div",3)(4,"div",4),f(),s(5,"svg",5),_(6,"path",6),c()(),g(),s(7,"div",7)(8,"div",8),f(),s(9,"svg",9),_(10,"circle",10)(11,"path",11),c()(),g(),s(12,"input",12),x("click",function(){return n.OnVeutRechercher()})("input",function(a){return n.RecherTaches(a)}),c()()(),v(13,H,3,2,"div",13),c(),v(14,X,5,1,"main",14)(15,Y,3,2,"section",15),c()()),e&2&&(l(13),T(n.onVeutRecherhcher?13:-1),l(),T(n.onVeutRecherhcher?14:-1),l(),T(n.voirLeFormulaire?15:-1))},dependencies:[I,D,$],styles:["main#conteneur[_ngcontent-%COMP%]{transition:all .4s ease-in-out;transition-behavior:smooth}main#conteneur[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .barre-recherche[_ngcontent-%COMP%]{display:grid;column-gap:4%;grid-template-columns:minmax(0,4%) minmax(0,92%)}main#conteneur[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .barre-recherche[_ngcontent-%COMP%]   .retourner[_ngcontent-%COMP%]{display:flex;align-items:center}main#conteneur[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .barre-recherche[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1):only-child{grid-column:1/-1}.startResearch[_ngcontent-%COMP%]{padding-top:2rem}.startResearch[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%;padding:1rem;border-top-left-radius:.75rem;border-top-right-radius:.75rem}.speeking[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.resultRecherche[_ngcontent-%COMP%]{margin-top:1rem}.menuContextContainer[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;z-index:1099;background:#00000026;top:0;left:0}.pos-stck[_ngcontent-%COMP%]{position:sticky;top:4rem}"]})};export{M as default};
